!function(a,b){var c=0;a.fn.getPercentage=function(){var a=this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1);return a},a.fn.adjRounding=function(b){var c=a(this),d=c.find(b),e=c.parent().width()-d.eq(0).width();if(0!==e){d.css("position","relative");for(var f=0;f<d.length;f++)d.eq(f).css("left",e*f+"px")}return this},a.fn.wiltoSlider=function(b){if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var d="wilto",e={slider:"."+d+"-slider",slide:"."+d+"-slide",prevSlide:".prev",nextSlide:".next",slideHed:"."+d+"-head",addPagination:!1,addNav:!1,namespace:d,speed:600,backToStart:!0},f=a.extend(e,b),g=this,h=document.body||document.documentElement,i=function(){h.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");var a=!!(h.style.transition||h.style.webkitTransition||h.style.msTransition||h.style.OTransition||h.style.MozTransition);return a},j={init:function(){c++,g.each(function(b){var d=a(this),e=d.find(f.slider),g=d.find(f.slide),h=g.length,i="margin-left "+f.speed/1e3+"s ease",k="carousel-"+c+"-"+b;g.length<=1||(d.css({"overflow-x":"hidden",width:"100%"}).attr("role","application"),e.attr("id",e[0].id||"carousel-"+c+"-"+b).css({marginLeft:"0px","float":"left",width:100*h+"%","-webkit-transition":i,"-moz-transition":i,"-ms-transition":i,"-o-transition":i,transition:i}).bind("carouselmove",j.move).bind("nextprev",j.nextPrev).bind("navstate",j.navState),g.css({"float":"left",width:100/h+"%"}).each(function(b){var c=a(this);c.attr({role:"tabpanel document",id:k+"-slide"+b}),f.addPagination&&c.attr("aria-labelledby",k+"-tab"+b)}),f.addPagination&&j.addPagination(),f.addNav&&j.addNav(),e.trigger("navstate",{current:0}))})},addNav:function(){g.each(function(){var c=a(this),d=c.find(f.slider),e=d[0].id,g=['<ul class="slidecontrols" role="navigation">','	<li role="presentation"><a href="#'+e+'" class="'+f.namespace+'-next">Next</a></li>','	<li role="presentation"><a href="#'+e+'" class="'+f.namespace+'-prev">Prev</a></li>',"</ul>"].join(""),h={nextSlide:"."+f.namespace+"-next",prevSlide:"."+f.namespace+"-prev"};f=a.extend(f,h),c.prepend(g)})},addPagination:function(){g.each(function(b){var d=a(this),e=a('<ol class="'+f.namespace+'-tabs" role="tablist navigation" />'),h=(d.find(f.slider),d.find(f.slide));for(slideNum=h.length,associated="carousel-"+c+"-"+b;slideNum--;){var i=h.eq(slideNum).find(f.slideHed).text()||"Page "+(slideNum+1),j=['<li role="presentation">','<a href="#'+associated+"-slide"+slideNum+'"',' aria-controls="'+associated+"-slide"+slideNum+'"',' id="'+associated+"-tab"+slideNum+'" role="tab">'+i+"</a>","</li>"].join("");e.prepend(j)}e.appendTo(d).find("li").keydown(function(b){var c=a(this),d=c.prev().find("a"),e=c.next().find("a");switch(b.which){case 37:case 38:d.length&&d.trigger("click").focus(),b.preventDefault();break;case 39:case 40:e.length&&e.trigger("click").focus(),b.preventDefault()}}).find("a").click(function(b){var c=a(this);if("false"==c.attr("aria-selected")){var e=c.parent().index(),g=-(100*e),h=d.find(f.slider);h.trigger("carouselmove",{moveTo:g})}b.preventDefault()})})},roundDown:function(a){var b=parseInt(a,10);return 100*Math.ceil((b-b%100)/100)},navState:function(b,c){var d=a(this),e=d.find(f.slide),g=-(c.current/100),h=e.eq(g);if(d.attr("aria-activedescendant",h[0].id),h.addClass(f.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(f.namespace+"-active-slide").attr("aria-hidden",!0),f.prevSlide||f.nextSlide){var i=a('[href*="#'+this.id+'"]');i.removeClass(f.namespace+"-disabled"),f.backToStart||(0==g?i.filter(f.prevSlide).addClass(f.namespace+"-disabled"):g==e.length-1&&i.filter(f.nextSlide).addClass(f.namespace+"-disabled"))}if(f.addPagination){var j=h.attr("aria-labelledby"),k=a("#"+j);k.parent().addClass(f.namespace+"-active-tab").siblings().removeClass(f.namespace+"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),k.attr({"aria-selected":!0,tabindex:0})}},move:function(b,c){var d=a(this);d.trigger(f.namespace+"-beforemove").trigger("navstate",{current:c.moveTo}),i()?d.adjRounding(f.slide).css("marginLeft",c.moveTo+"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){a(this).trigger(f.namespace+"-aftermove")}):d.adjRounding(f.slide).animate({marginLeft:c.moveTo+"%"},{duration:f.speed,queue:!1},function(){a(this).trigger(f.namespace+"-aftermove")})},nextPrev:function(b,c){var d=a(this),e=d?d.getPercentage():0,g=d.find(f.slide),h="prev"===c.dir?0!=e:-e<100*(g.length-1),i=a('[href="#'+this.id+'"]');if(!d.is(":animated")&&h){if(e="prev"===c.dir?0!=e%100?j.roundDown(e):e+100:0!=e%100?j.roundDown(e)-100:e-100,d.trigger("carouselmove",{moveTo:e}),i.removeClass(f.namespace+"-disabled").removeAttr("aria-disabled"),!f.backToStart)switch(e){case 100*-(g.length-1):i.filter(f.nextSlide).addClass(f.namespace+"-disabled").attr("aria-disabled",!0);break;case 0:i.filter(f.prevSlide).addClass(f.namespace+"-disabled").attr("aria-disabled",!0)}}else{var k=j.roundDown(e);f.backToStart?("next"===c.dir?e=0:"prev"===c.dir&&"notauto"===c.event&&(e=100*-(g.length-1)),d.trigger("carouselmove",{moveTo:e})):d.trigger("carouselmove",{moveTo:k})}}};j.init(this),a(f.nextSlide+","+f.prevSlide).bind("click",function(b){var c=a(this),d=this.hash,e=c.is(f.prevSlide)?"prev":"next",g=a(d),h="";return c.is("."+f.namespace+"-disabled")?!1:(h=f.backToStart?"notauto":"",g.trigger("nextprev",{dir:e,event:h}),b.preventDefault(),void 0)}).bind("keydown",function(b){var d=(a(this),this.hash),e="";switch(e=f.backToStart?"notauto":"",b.which){case 37:case 38:a("#"+d).trigger("nextprev",{dir:"next",event:e}),b.preventDefault();break;case 39:case 40:a("#"+d).trigger("nextprev",{dir:"prev",event:e}),b.preventDefault()}});var k={wrap:this,slider:f.slider};return g.bind("dragSnap",k,function(b,c){var d=a(this).find(f.slider),e="left"===c.direction?"next":"prev",g="";g=f.backToStart?"notauto":"",d.trigger("nextprev",{dir:e,event:g})}),g.filter("[data-autorotate]").each(function(){var b,c=a(this),d=c.attr("data-autorotate"),e=c.find(f.slide).length,g=function(){var h=c.find(f.slider),i=-(a(f.slider).getPercentage()/100)+1;switch(i){case e:clearInterval(b),b=setInterval(function(){g(),h.trigger("nextprev",{dir:"prev"})},d);break;case 1:clearInterval(b),b=setInterval(function(){g(),h.trigger("nextprev",{dir:"next"})},d)}};b=setInterval(g,d),c.attr("aria-live","polite").bind("mouseenter click touchstart",function(){clearInterval(b)})}),this}},a.event.special.dragSnap={setup:function(c){var d=a(this),e=function(a,b){var c=.3,d=b?"margin-left "+c+"s ease":"none";a.css({"-webkit-transition":d,"-moz-transition":d,"-ms-transition":d,"-o-transition":d,transition:d})},f=function(a){var a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)},g=function(a,c){var d=c.target,g=d.attr("style")!=b?d.getPercentage():0,h=c.left===!1?f(g)-100:f(g),i=document.body,j=function(){i.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");var a=!!(i.style.transition||i.style.webkitTransition||i.style.MozTransition);return a};e(d,!0),j()?d.css("marginLeft",h+"%"):d.animate({marginLeft:h+"%"},opt.speed)};d.bind("snapback",g).bind("touchstart",function(f){function m(a){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;j={time:+new Date,coords:[b.pageX,b.pageY]},deltaX=Math.abs(i.coords[0]-b.pageX),deltaY=Math.abs(i.coords[1]-b.pageY),!i||deltaY>deltaX||55>deltaX||deltaX>=55&&(i.interacting=!0,k.css({"margin-left":l+100*((j.coords[0]-i.coords[0])/i.origin.width())+"%"}),a.preventDefault())}var j,g=f.originalEvent.touches?f.originalEvent.touches[0]:f,h=a(f.target),i={time:+new Date,coords:[g.pageX,g.pageY],origin:h.closest(c.wrap),interacting:!1},k=h.closest(c.slider),l=k.attr("style")!=b?k.getPercentage():0;e(k,!1),d.bind("gesturestart",function(){d.unbind("touchmove",m).unbind("touchend",m)}).bind("touchmove",m).one("touchend",function(a){if(d.unbind("touchmove",m),e(k,!0),i&&j){var h,c=Math.abs(i.coords[0]-j.coords[0]),f=Math.abs(i.coords[1]-j.coords[1]),g=i.coords[0]>j.coords[0];if(!(c>20&&c>f))return i.interacting&&d.trigger("snapback",{target:k,left:g}),void 0;a.preventDefault(),h=i.origin.width()/4,-c>h||c>h?i.origin.trigger("dragSnap",{direction:g?"left":"right"}):d.trigger("snapback",{target:k,left:g})}i=j=b})})}}}(jQuery);